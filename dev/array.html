<html>   
	<head>
		<script>
			var tileX = 30;
			var tileY = 10
			var grid = new Array(tileX);
			for (var i=0;i<tileX;i++)
				grid[i] = new Array(tileY);
			for (var x=0;x<tileX;x++) {
				for (var y=0;y<tileY;y++) {
					grid[x][y]=0;
				}
			}
			console.log('seeding');
			for (var i=0;i<10;i++) {
				var x = Math.floor(Math.random()*tileX);
				var y = Math.floor(Math.random()*tileY);
				grid[x][y] =5;
			}
			// lets group any within 2 spaces
			var found=false;
			do {
				console.log('grouping');
				found = false;
				for (var x=0;x<tileX;x++) {
					for (var y=0;y<tileY;y++) {
						if (grid[x][y]!=5) continue;
						if (x>2 && grid[x-2][y]==5 && grid[x-1][y]==0) {
							grid[x-1][y]=5;
							found = true;
						}
						if (x+2<tileX && grid[x+2][y]==5 && grid[x+1][y]==0) {
							grid[x+1][y]=5;
							found = true;
						}
						if (y>2 && grid[x][y-2] == 5 && grid[x][y-1]==0) {
							grid[x][y-1]=5;
							found = true;
						}
						if (y+2<tileY && grid[x][y+2] == 5 && grid[x][y+1]==0) {
							grid[x][y+1]=5;
							found = true;
						}
					}
				}
			} while (found);
			// add surroundings
			console.log('surrounding');
			for (var x=0;x<tileX;x++) {
				for (var y=0;y<tileY;y++) {
					if (grid[x][y]!=5) continue;
					if (x > 0 && grid[x-1][y]==0) {
						grid[x-1][y]=4;
						if (y > 0 && grid[x-1][y-1]==0)
							grid[x-1][y-1]=7;
						if (y+1 < tileY && grid[x-1][y+1]==0)
							grid[x-1][y+1]=1;
					}
					if (x+1 < tileX && grid[x+1][y]==0) {
						grid[x+1][y] = 6;
						if (y > 0 && grid[x+1][y-1]==0)
							grid[x+1][y-1]=9;
						if (y+1 < tileY && grid[x+1][y+1]==0)
							grid[x+1][y+1]=3;
					}
					if (y > 0 && grid[x][y-1]==0)
						grid[x][y-1]=8;
					if (y+1 < tileY && grid[x][y+1]==0)
						grid[x][y+1]=2;
				}
			}
				
			for (var y=0;y<tileY;y++) {
				var result = '';
				for (var x=0;x<tileX;x++) {
					result+=grid[x][y];
				}
				console.log(y+': ' +result);
			}
		</script>
	</head>
	<body>

	</body>
</html>